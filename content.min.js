!function(){const e="quickvint-gen-btn";function t(){if(document.getElementById(e))return;const t=document.querySelector('input[data-testid="title--input"]'),n=document.querySelector('textarea[data-testid="description--input"]');if(!t||!n)return;const o=document.createElement("button");o.id=e,o.textContent="🪄 Generate",Object.assign(o.style,{marginTop:"6px",padding:"6px 12px",background:"#4f46e5",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"}),t.parentElement.appendChild(o),o.addEventListener("click",(async()=>{o.disabled=!0,o.textContent="⏳ Generating…";const e=document.querySelectorAll('[data-testid="media-select-grid"] img'),i=Array.from(e).map((e=>e.src)).filter(Boolean);if(!i.length)return alert("No photos found. Upload at least one image first."),o.disabled=!1,void(o.textContent="🪄 Generate");try{const e=await fetch("https://quick-vint.vercel.app/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrls:i})});if(!e.ok)throw new Error(await e.text());const{title:r,description:a}=await e.json();t.value=r,t.dispatchEvent(new Event("input",{bubbles:!0})),n.value=a,n.dispatchEvent(new Event("input",{bubbles:!0})),o.textContent="✅ Done"}catch(e){console.error(e),alert("Generation failed—see console"),o.textContent="🪄 Generate"}o.disabled=!1}))}new MutationObserver(function(e,t){let n;return(...o)=>{clearTimeout(n),n=setTimeout((()=>e(...o)),t)}}(t,300)).observe(document.body,{childList:!0,subtree:!0}),t()}();